"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_GameScene_tsx",{

/***/ "(app-pages-browser)/./src/components/GameScene.tsx":
/*!**************************************!*\
  !*** ./src/components/GameScene.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GameScene; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/fiber */ \"(app-pages-browser)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/fiber */ \"(app-pages-browser)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/Edges.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/web/Html.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/PointerLockControls.js\");\n/* harmony import */ var _store_gameStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/gameStore */ \"(app-pages-browser)/./src/store/gameStore.ts\");\n/* harmony import */ var _utils_sound__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/sound */ \"(app-pages-browser)/./src/utils/sound.ts\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n\n\n\n\n\n\n// --- Constants & Data ---\nconst NEGATIVE_WORDS = [\n    \"짜증나\",\n    \"힘들어\",\n    \"망했어\",\n    \"포기해\",\n    \"싫어\",\n    \"우울해\",\n    \"바보\",\n    \"실패\",\n    \"야근\",\n    \"스트레스\",\n    \"불안\",\n    \"귀찮아\",\n    \"틀렸어\",\n    \"최악이야\",\n    \"답답해\"\n];\nconst POSITIVE_WORDS = [\n    \"최고야!\",\n    \"잘했어!\",\n    \"넌 멋져\",\n    \"사랑해\",\n    \"행복해\",\n    \"성공!\",\n    \"괜찮아\",\n    \"할수있어\",\n    \"대단해\",\n    \"완벽해\",\n    \"빛나고있어\",\n    \"좋은하루\",\n    \"파이팅\",\n    \"용기내\",\n    \"자랑스러워\"\n];\n// --- Player Controller ---\nconst PlayerController = ()=>{\n    _s();\n    const { camera } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D)();\n    const [move, setMove] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        f: false,\n        b: false,\n        l: false,\n        r: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const down = (e)=>{\n            if (e.code === \"KeyW\") setMove((m)=>({\n                    ...m,\n                    f: true\n                }));\n            if (e.code === \"KeyS\") setMove((m)=>({\n                    ...m,\n                    b: true\n                }));\n            if (e.code === \"KeyA\") setMove((m)=>({\n                    ...m,\n                    l: true\n                }));\n            if (e.code === \"KeyD\") setMove((m)=>({\n                    ...m,\n                    r: true\n                }));\n        };\n        const up = (e)=>{\n            if (e.code === \"KeyW\") setMove((m)=>({\n                    ...m,\n                    f: false\n                }));\n            if (e.code === \"KeyS\") setMove((m)=>({\n                    ...m,\n                    b: false\n                }));\n            if (e.code === \"KeyA\") setMove((m)=>({\n                    ...m,\n                    l: false\n                }));\n            if (e.code === \"KeyD\") setMove((m)=>({\n                    ...m,\n                    r: false\n                }));\n        };\n        window.addEventListener(\"keydown\", down);\n        window.addEventListener(\"keyup\", up);\n        return ()=>{\n            window.removeEventListener(\"keydown\", down);\n            window.removeEventListener(\"keyup\", up);\n        };\n    }, []);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((_, delta)=>{\n        const speed = 12 * delta;\n        const direction = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        const front = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3(0, 0, Number(move.b) - Number(move.f));\n        const side = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3(Number(move.l) - Number(move.r), 0, 0);\n        direction.subVectors(front, side).normalize().multiplyScalar(speed).applyEuler(camera.rotation);\n        camera.position.add(direction);\n        camera.position.y = Math.max(1.6, camera.position.y); // Prevent sinking\n    });\n    return null;\n};\n_s(PlayerController, \"C5PkmKpxlFmCasdpLADIVJNs6zA=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F\n    ];\n});\n_c = PlayerController;\n// --- Explosion Particles Component (Brightness) ---\nconst ExplosionParticles = (param)=>{\n    let { position } = param;\n    _s1();\n    const group = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [particles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>Array.from({\n            length: 20\n        }).map(()=>({\n                offset: [\n                    Math.random() - 0.5,\n                    Math.random() - 0.5,\n                    Math.random() - 0.5\n                ],\n                speed: 3 + Math.random() * 5,\n                rotation: [\n                    Math.random() * Math.PI,\n                    Math.random() * Math.PI,\n                    0\n                ],\n                scale: 0.1 + Math.random() * 0.3\n            })));\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((_, delta)=>{\n        if (!group.current) return;\n        group.current.children.forEach((child, i)=>{\n            const p = particles[i];\n            if (!p) return;\n            const mesh = child;\n            mesh.position.x += p.offset[0] * delta * p.speed;\n            mesh.position.y += p.offset[1] * delta * p.speed;\n            mesh.position.z += p.offset[2] * delta * p.speed;\n            mesh.rotation.x += delta * 5;\n            if (mesh.scale.x > 0) mesh.scale.subScalar(delta * 0.8);\n            if (!Array.isArray(mesh.material)) {\n                mesh.material.opacity = Math.max(0, mesh.material.opacity - delta * 2);\n            }\n        });\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        position: position,\n        ref: group,\n        children: [\n            particles.map((p, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                    rotation: [\n                        p.rotation[0],\n                        p.rotation[1],\n                        0\n                    ],\n                    scale: [\n                        p.scale,\n                        p.scale,\n                        p.scale\n                    ],\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"octahedronGeometry\", {\n                            args: [\n                                1,\n                                0\n                            ]\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                            color: \"#F59E0B\",\n                            transparent: true,\n                            opacity: 1\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                            lineNumber: 102,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, i, true, {\n                    fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 17\n                }, undefined)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                distance: 5,\n                intensity: 5,\n                color: \"#F59E0B\",\n                decay: 2\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 105,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n        lineNumber: 98,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(ExplosionParticles, \"jUvwUwTYTG+ZCtv2DA4b5+pF3jw=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F\n    ];\n});\n_c1 = ExplosionParticles;\n// --- Dark Mind Cluster Component (Negative State) ---\nconst DarkCluster = (param)=>{\n    let { animationOffset, id } = param;\n    _s2();\n    const group = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((state, delta)=>{\n        if (!group.current) return;\n        // Jitter/Float effect\n        const t = state.clock.elapsedTime;\n        group.current.rotation.y = Math.sin(t * 0.5 + animationOffset) * 0.2;\n        group.current.rotation.z = Math.cos(t * 0.3 + animationOffset) * 0.1;\n        // Inner cubes wobble\n        group.current.children.forEach((child, i)=>{\n            child.rotation.x += delta * (0.2 + i * 0.1);\n            child.rotation.y -= delta * (0.1 + i * 0.05);\n            child.position.y += Math.sin(t * 2 + i) * 0.002;\n        });\n    });\n    // Create a cluster of overlapping cubes\n    const cubes = [\n        {\n            size: [\n                2.2,\n                2.2,\n                2.2\n            ],\n            pos: [\n                0,\n                0,\n                0\n            ]\n        },\n        {\n            size: [\n                2.0,\n                2.0,\n                2.0\n            ],\n            pos: [\n                0.2,\n                0.2,\n                0.2\n            ]\n        },\n        {\n            size: [\n                1.8,\n                1.8,\n                1.8\n            ],\n            pos: [\n                -0.2,\n                -0.2,\n                -0.1\n            ]\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: group,\n        children: cubes.map((c, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: c.pos,\n                userData: {\n                    isTarget: true,\n                    id\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"boxGeometry\", {\n                        args: c.size\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                        lineNumber: 140,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#050505\",\n                        roughness: 0.1,\n                        metalness: 0.8\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_6__.Edges, {\n                        color: \"#FFFFFF\",\n                        threshold: 15,\n                        scale: 1.0\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, i, true, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 139,\n                columnNumber: 17\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n        lineNumber: 137,\n        columnNumber: 9\n    }, undefined);\n};\n_s2(DarkCluster, \"wIQ0TzBcBbrr+qLtNjBx4XhJcj0=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F\n    ];\n});\n_c2 = DarkCluster;\n// --- Target Box Component ---\nconst TargetBox = (param)=>{\n    let { data } = param;\n    _s3();\n    const groupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((state)=>{\n        if (groupRef.current && !data.isHit) {\n            // General floating for the whole group\n            groupRef.current.position.y = data.position[1] + Math.sin(state.clock.elapsedTime + data.offset) * 0.2;\n        }\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: groupRef,\n        position: data.position,\n        children: [\n            !data.isHit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DarkCluster, {\n                animationOffset: data.offset,\n                id: data.id\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 164,\n                columnNumber: 29\n            }, undefined),\n            data.isHit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ExplosionParticles, {\n                position: [\n                    0,\n                    0,\n                    0\n                ]\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 167,\n                columnNumber: 28\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.Html, {\n                position: [\n                    0,\n                    data.isHit ? 2 : 2.5,\n                    0\n                ],\n                center: true,\n                transform: false,\n                sprite: true,\n                distanceFactor: 12,\n                style: {\n                    pointerEvents: \"none\",\n                    userSelect: \"none\",\n                    transition: \"all 0.3s ease-out\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"\\n                    text-3xl font-extrabold whitespace-nowrap px-6 py-3 rounded-2xl border-4\\n                    \".concat(data.isHit ? \"text-blue-600 border-blue-400 bg-white shadow-[0_0_30px_rgba(59,130,246,0.5)] scale-110\" : \"text-gray-900 border-gray-900 bg-white/80 shadow-xl\", \"\\n                \"),\n                    children: data.word\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 170,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n        lineNumber: 162,\n        columnNumber: 9\n    }, undefined);\n};\n_s3(TargetBox, \"6IJMYK8+MXZFwT7izzQ7Jqot7FY=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F\n    ];\n});\n_c3 = TargetBox;\n// --- Scene Manager ---\nconst SceneManager = ()=>{\n    _s4();\n    const { camera, scene, raycaster } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D)();\n    // Optimize selector to avoid re-renders on score change\n    const addScore = (0,_store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore)((state)=>state.addScore);\n    const status = (0,_store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore)((state)=>state.status);\n    const timeLeft = (0,_store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore)((state)=>state.timeLeft);\n    const negativeWords = (0,_store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore)((state)=>state.negativeWords);\n    const positiveWords = (0,_store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore)((state)=>state.positiveWords);\n    const [targets, setTargets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Environment Refs\n    const ambientRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mainLightRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const flashIntensity = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Frame Loop for Environment Animation\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((_, delta)=>{\n        // Decay flash intensity\n        flashIntensity.current = three__WEBPACK_IMPORTED_MODULE_5__.MathUtils.lerp(flashIntensity.current, 0, delta * 4);\n        // Apply flash to lighting\n        if (ambientRef.current) {\n            ambientRef.current.intensity = 1.0 + flashIntensity.current * 0.8;\n        }\n        if (mainLightRef.current) {\n            mainLightRef.current.intensity = 1.0 + flashIntensity.current * 2.0;\n        }\n    });\n    // Spawn Helper\n    const spawnTarget = (idOverride)=>{\n        const id = idOverride || Math.random().toString(36).substr(2, 9);\n        const x = (Math.random() - 0.5) * 30; // -15 to 15\n        const y = 2 + Math.random() * 8; // 2 to 10 height\n        const z = -10 - Math.random() * 20; // -10 to -30 depth\n        // Use dynamic words, fallback if empty to prevent errors\n        const sourceWords = negativeWords.length > 0 ? negativeWords : [\n            \"No Words\"\n        ];\n        const randomNegative = sourceWords[Math.floor(Math.random() * sourceWords.length)];\n        return {\n            id,\n            position: [\n                x,\n                y,\n                z\n            ],\n            word: randomNegative,\n            isHit: false,\n            offset: Math.random() * 100 // Random offset for animation\n        };\n    };\n    // Determine target count based on time\n    const getTargetCountMetric = (time)=>{\n        // \"Start ~ 5s before end\" -> 15. \"7s before end ~ end\" -> 6. \n        // We prioritize the specific \"7s\" start for the tapering phase.\n        if (time > 7) return {\n            max: 15,\n            shouldSpawn: true\n        };\n        if (time > 0) return {\n            max: 6,\n            shouldSpawn: true\n        }; // Last 7 seconds: Taper off\n        return {\n            max: 0,\n            shouldSpawn: false\n        }; // Last moments: Clear the board\n    };\n    // Initial & Maintenance Spawn\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (status === \"playing\") {\n            const { max, shouldSpawn } = getTargetCountMetric(timeLeft);\n            setTargets((prev)=>{\n                // If we have fewer than max and should spawn, add more\n                if (shouldSpawn && prev.length < max) {\n                    const needed = max - prev.length;\n                    const newTargets = Array.from({\n                        length: needed\n                    }).map(()=>spawnTarget());\n                    return [\n                        ...prev,\n                        ...newTargets\n                    ];\n                }\n                return prev;\n            });\n        } else if (status === \"idle\") {\n            // Reset visual targets when idle\n            setTargets([]);\n        }\n    }, [\n        status,\n        timeLeft,\n        negativeWords\n    ]); // Added negativeWords dependency\n    // Handle Click (Shooting)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleMouseDown = ()=>{\n            if (status !== \"playing\") return;\n            raycaster.setFromCamera(new three__WEBPACK_IMPORTED_MODULE_5__.Vector2(0, 0), camera);\n            // Intersect with everything\n            const intersects = raycaster.intersectObjects(scene.children, true);\n            // Filter only targets that are not already hit\n            const hitObj = intersects.find((i)=>i.object.userData.isTarget && targets.find((t)=>t.id === i.object.userData.id && !t.isHit));\n            if (hitObj) {\n                const hitId = hitObj.object.userData.id;\n                // Play Sound\n                _utils_sound__WEBPACK_IMPORTED_MODULE_3__.soundManager.playExplosion();\n                // Use dynamic positive words\n                const sourceWords = positiveWords.length > 0 ? positiveWords : [\n                    \"Good!\"\n                ];\n                const positiveMsg = sourceWords[Math.floor(Math.random() * sourceWords.length)];\n                // Trigger Flash\n                flashIntensity.current = 1.0;\n                // Update Interal State to \"Hit\"\n                setTargets((prev)=>prev.map((t)=>{\n                        if (t.id === hitId) {\n                            return {\n                                ...t,\n                                isHit: true,\n                                word: positiveMsg\n                            };\n                        }\n                        return t;\n                    }));\n                addScore(100);\n                // Remove and maybe Respawn\n                setTimeout(()=>{\n                    setTargets((prev)=>{\n                        const filtered = prev.filter((t)=>t.id !== hitId);\n                        return filtered;\n                    });\n                }, 1000); // 1.0s animation time (Slightly longer for reading)\n            }\n        };\n        window.addEventListener(\"mousedown\", handleMouseDown);\n        return ()=>window.removeEventListener(\"mousedown\", handleMouseDown);\n    }, [\n        camera,\n        raycaster,\n        scene,\n        status,\n        targets,\n        addScore,\n        timeLeft,\n        positiveWords\n    ]); // Added positiveWords\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            backgroundMode === \"white\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WhiteRoomEnv, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 331,\n                columnNumber: 44\n            }, undefined),\n            backgroundMode === \"space\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SpaceEnv, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 332,\n                columnNumber: 44\n            }, undefined),\n            backgroundMode === \"school\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SchoolEnv, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 333,\n                columnNumber: 45\n            }, undefined),\n            targets.map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TargetBox, {\n                    data: t\n                }, t.id, false, {\n                    fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                    lineNumber: 336,\n                    columnNumber: 17\n                }, undefined)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PlayerController, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 339,\n                columnNumber: 13\n            }, undefined),\n            status === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_8__.PointerLockControls, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 340,\n                columnNumber: 38\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s4(SceneManager, \"xpEjBI+YokspeBqQ6dDANcoED3w=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D,\n        _store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore,\n        _store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore,\n        _store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore,\n        _store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore,\n        _store_gameStore__WEBPACK_IMPORTED_MODULE_2__.useGameStore,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F\n    ];\n});\n_c4 = SceneManager;\nfunction GameScene() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_fiber__WEBPACK_IMPORTED_MODULE_9__.Canvas, {\n            shadows: true,\n            camera: {\n                fov: 60\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SceneManager, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n                lineNumber: 349,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n            lineNumber: 348,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\11\\\\Desktop\\\\PROJECT\\\\gun_aim\\\\src\\\\components\\\\GameScene.tsx\",\n        lineNumber: 347,\n        columnNumber: 9\n    }, this);\n}\n_c5 = GameScene;\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"PlayerController\");\n$RefreshReg$(_c1, \"ExplosionParticles\");\n$RefreshReg$(_c2, \"DarkCluster\");\n$RefreshReg$(_c3, \"TargetBox\");\n$RefreshReg$(_c4, \"SceneManager\");\n$RefreshReg$(_c5, \"GameScene\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0dhbWVTY2VuZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMkQ7QUFDSztBQUNZO0FBQzNCO0FBQ0o7QUFDZDtBQUUvQiwyQkFBMkI7QUFDM0IsTUFBTWEsaUJBQWlCO0lBQ25CO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTTtJQUNsQztJQUFNO0lBQU07SUFBTTtJQUFRO0lBQU07SUFDaEM7SUFBTztJQUFRO0NBQ2xCO0FBRUQsTUFBTUMsaUJBQWlCO0lBQ25CO0lBQVE7SUFBUTtJQUFRO0lBQU87SUFDL0I7SUFBTztJQUFPO0lBQVE7SUFBTztJQUM3QjtJQUFTO0lBQVE7SUFBTztJQUFPO0NBQ2xDO0FBV0QsNEJBQTRCO0FBQzVCLE1BQU1DLG1CQUFtQjs7SUFDckIsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1YscURBQVFBO0lBQzNCLE1BQU0sQ0FBQ1csTUFBTUMsUUFBUSxHQUFHakIsK0NBQVFBLENBQUM7UUFBRWtCLEdBQUc7UUFBT0MsR0FBRztRQUFPQyxHQUFHO1FBQU9DLEdBQUc7SUFBTTtJQUUxRXBCLGdEQUFTQSxDQUFDO1FBQ04sTUFBTXFCLE9BQU8sQ0FBQ0M7WUFDVixJQUFJQSxFQUFFQyxJQUFJLEtBQUssUUFBUVAsUUFBUVEsQ0FBQUEsSUFBTTtvQkFBRSxHQUFHQSxDQUFDO29CQUFFUCxHQUFHO2dCQUFLO1lBQ3JELElBQUlLLEVBQUVDLElBQUksS0FBSyxRQUFRUCxRQUFRUSxDQUFBQSxJQUFNO29CQUFFLEdBQUdBLENBQUM7b0JBQUVOLEdBQUc7Z0JBQUs7WUFDckQsSUFBSUksRUFBRUMsSUFBSSxLQUFLLFFBQVFQLFFBQVFRLENBQUFBLElBQU07b0JBQUUsR0FBR0EsQ0FBQztvQkFBRUwsR0FBRztnQkFBSztZQUNyRCxJQUFJRyxFQUFFQyxJQUFJLEtBQUssUUFBUVAsUUFBUVEsQ0FBQUEsSUFBTTtvQkFBRSxHQUFHQSxDQUFDO29CQUFFSixHQUFH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QUEyQjtnQkFDM0JvQyxXQUFXO29CQUNQOUIsV0FBV2dCLENBQUFBO3dCQUNQLE1BQU1lLFdBQVdmLEtBQUtnQixNQUFNLENBQUN4RSxDQUFBQSxJQUFLQSxFQUFFRixFQUFFLEtBQUtxRTt3QkFFM0MsT0FBT0k7b0JBQ1g7Z0JBQ0osR0FBRyxPQUFPLG9EQUFvRDtZQUNsRTtRQUNKO1FBRUFsSSxPQUFPQyxnQkFBZ0IsQ0FBQyxhQUFhcUg7UUFDckMsT0FBTyxJQUFNdEgsT0FBT0UsbUJBQW1CLENBQUMsYUFBYW9IO0lBQ3pELEdBQUc7UUFBQ2xJO1FBQVF3RztRQUFXRDtRQUFPRztRQUFRSTtRQUFTTDtRQUFVRTtRQUFVRTtLQUFjLEdBQUcsc0JBQXNCO0lBRTFHLHFCQUNJOztZQUVLbUMsbUJBQW1CLHlCQUFXLDhEQUFDQzs7Ozs7WUFDL0JELG1CQUFtQix5QkFBVyw4REFBQ0U7Ozs7O1lBQy9CRixtQkFBbUIsMEJBQVksOERBQUNHOzs7OztZQUVoQ3JDLFFBQVF2RSxHQUFHLENBQUNnQyxDQUFBQSxrQkFDVCw4REFBQ2dCO29CQUFxQkMsTUFBTWpCO21CQUFaQSxFQUFFRixFQUFFOzs7OzswQkFHeEIsOERBQUN0RTs7Ozs7WUFDQTJHLFdBQVcsMkJBQWEsOERBQUNuSCxrRUFBbUJBOzs7Ozs7O0FBR3pEO0lBbkpNK0c7O1FBQ21DaEgsaURBQVFBO1FBRTVCSSwwREFBWUE7UUFDZEEsMERBQVlBO1FBQ1ZBLDBEQUFZQTtRQUNQQSwwREFBWUE7UUFDWkEsMERBQVlBO1FBVWxDTCxpREFBUUE7OztNQWpCTmlIO0FBcUpTLFNBQVM4QztJQUNwQixxQkFDSSw4REFBQ2pEO1FBQUlDLFdBQVU7a0JBQ1gsNEVBQUNoSCxzREFBTUE7WUFBQ2lLLE9BQU87WUFBQ3JKLFFBQVE7Z0JBQUVzSixLQUFLO1lBQUc7c0JBQzlCLDRFQUFDaEQ7Ozs7Ozs7Ozs7Ozs7OztBQUlqQjtNQVJ3QjhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0dhbWVTY2VuZS50c3g/YTNhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgQ2FudmFzLCB1c2VGcmFtZSwgdXNlVGhyZWUgfSBmcm9tIFwiQHJlYWN0LXRocmVlL2ZpYmVyXCI7XHJcbmltcG9ydCB7IFBvaW50ZXJMb2NrQ29udHJvbHMsIEh0bWwsIFBsYW5lLCBFZGdlcyB9IGZyb20gXCJAcmVhY3QtdGhyZWUvZHJlaVwiO1xyXG5pbXBvcnQgeyB1c2VHYW1lU3RvcmUgfSBmcm9tIFwiQC9zdG9yZS9nYW1lU3RvcmVcIjtcclxuaW1wb3J0IHsgc291bmRNYW5hZ2VyIH0gZnJvbSBcIkAvdXRpbHMvc291bmRcIjtcclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG4vLyAtLS0gQ29uc3RhbnRzICYgRGF0YSAtLS1cclxuY29uc3QgTkVHQVRJVkVfV09SRFMgPSBbXHJcbiAgICBcIuynnOymneuCmFwiLCBcIu2emOuTpOyWtFwiLCBcIuunne2WiOyWtFwiLCBcIu2PrOq4sO2VtFwiLCBcIuyLq+yWtFwiLCBcIuyasOyauO2VtFwiLFxyXG4gICAgXCLrsJTrs7RcIiwgXCLsi6TtjKhcIiwgXCLslbzqt7xcIiwgXCLsiqTtirjroIjsiqRcIiwgXCLrtojslYhcIiwgXCLqt4DssK7slYRcIixcclxuICAgIFwi7YuA66C47Ja0XCIsIFwi7LWc7JWF7J207JW8XCIsIFwi64u164u17ZW0XCJcclxuXTtcclxuXHJcbmNvbnN0IFBPU0lUSVZFX1dPUkRTID0gW1xyXG4gICAgXCLstZzqs6DslbwhXCIsIFwi7J6Y7ZaI7Ja0IVwiLCBcIuuEjCDrqYvsoLhcIiwgXCLsgqzrnpHtlbRcIiwgXCLtlonrs7XtlbRcIixcclxuICAgIFwi7ISx6rO1IVwiLCBcIuq0nOywruyVhFwiLCBcIu2VoOyImOyeiOyWtFwiLCBcIuuMgOuLqO2VtFwiLCBcIuyZhOuyve2VtFwiLFxyXG4gICAgXCLruZvrgpjqs6DsnojslrRcIiwgXCLsoovsnYDtlZjro6hcIiwgXCLtjIzsnbTtjIVcIiwgXCLsmqnquLDrgrRcIiwgXCLsnpDrnpHsiqTrn6zsm4xcIlxyXG5dO1xyXG5cclxuaW50ZXJmYWNlIFRhcmdldCB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgcG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuICAgIHdvcmQ6IHN0cmluZztcclxuICAgIGlzSGl0OiBib29sZWFuO1xyXG4gICAgaGl0VGltZT86IG51bWJlcjtcclxuICAgIG9mZnNldDogbnVtYmVyO1xyXG59XHJcblxyXG4vLyAtLS0gUGxheWVyIENvbnRyb2xsZXIgLS0tXHJcbmNvbnN0IFBsYXllckNvbnRyb2xsZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGNhbWVyYSB9ID0gdXNlVGhyZWUoKTtcclxuICAgIGNvbnN0IFttb3ZlLCBzZXRNb3ZlXSA9IHVzZVN0YXRlKHsgZjogZmFsc2UsIGI6IGZhbHNlLCBsOiBmYWxzZSwgcjogZmFsc2UgfSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlXXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCBmOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlTXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCBiOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlBXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCBsOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlEXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCByOiB0cnVlIH0pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVwID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlXXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCBmOiBmYWxzZSB9KSk7XHJcbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09IFwiS2V5U1wiKSBzZXRNb3ZlKG0gPT4gKHsgLi4ubSwgYjogZmFsc2UgfSkpO1xyXG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIktleUFcIikgc2V0TW92ZShtID0+ICh7IC4uLm0sIGw6IGZhbHNlIH0pKTtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gXCJLZXlEXCIpIHNldE1vdmUobSA9PiAoeyAuLi5tLCByOiBmYWxzZSB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZG93bik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB1cCk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGRvd24pO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHVwKTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHVzZUZyYW1lKChfLCBkZWx0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gMTIgKiBkZWx0YTtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIGNvbnN0IGZyb250ID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgTnVtYmVyKG1vdmUuYikgLSBOdW1iZXIobW92ZS5mKSk7XHJcbiAgICAgICAgY29uc3Qgc2lkZSA9IG5ldyBUSFJFRS5WZWN0b3IzKE51bWJlcihtb3ZlLmwpIC0gTnVtYmVyKG1vdmUuciksIDAsIDApO1xyXG4gICAgICAgIGRpcmVjdGlvbi5zdWJWZWN0b3JzKGZyb250LCBzaWRlKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihzcGVlZCkuYXBwbHlFdWxlcihjYW1lcmEucm90YXRpb24pO1xyXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi5hZGQoZGlyZWN0aW9uKTtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24ueSA9IE1hdGgubWF4KDEuNiwgY2FtZXJhLnBvc2l0aW9uLnkpOyAvLyBQcmV2ZW50IHNpbmtpbmdcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG4vLyAtLS0gRXhwbG9zaW9uIFBhcnRpY2xlcyBDb21wb25lbnQgKEJyaWdodG5lc3MpIC0tLVxyXG5jb25zdCBFeHBsb3Npb25QYXJ0aWNsZXMgPSAoeyBwb3NpdGlvbiB9OiB7IHBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gfSkgPT4ge1xyXG4gICAgY29uc3QgZ3JvdXAgPSB1c2VSZWY8VEhSRUUuR3JvdXA+KG51bGwpO1xyXG4gICAgY29uc3QgW3BhcnRpY2xlc10gPSB1c2VTdGF0ZSgoKSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9KS5tYXAoKCkgPT4gKHtcclxuICAgICAgICBvZmZzZXQ6IFtNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41XSxcclxuICAgICAgICBzcGVlZDogMyArIE1hdGgucmFuZG9tKCkgKiA1LFxyXG4gICAgICAgIHJvdGF0aW9uOiBbTWF0aC5yYW5kb20oKSAqIE1hdGguUEksIE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJLCAwXSxcclxuICAgICAgICBzY2FsZTogMC4xICsgTWF0aC5yYW5kb20oKSAqIDAuM1xyXG4gICAgfSkpKTtcclxuXHJcbiAgICB1c2VGcmFtZSgoXywgZGVsdGEpID0+IHtcclxuICAgICAgICBpZiAoIWdyb3VwLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgICBncm91cC5jdXJyZW50LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0aWNsZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghcCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBtZXNoID0gY2hpbGQgYXMgVEhSRUUuTWVzaDtcclxuICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi54ICs9IHAub2Zmc2V0WzBdICogZGVsdGEgKiBwLnNwZWVkO1xyXG4gICAgICAgICAgICBtZXNoLnBvc2l0aW9uLnkgKz0gcC5vZmZzZXRbMV0gKiBkZWx0YSAqIHAuc3BlZWQ7XHJcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueiArPSBwLm9mZnNldFsyXSAqIGRlbHRhICogcC5zcGVlZDtcclxuICAgICAgICAgICAgbWVzaC5yb3RhdGlvbi54ICs9IGRlbHRhICogNTtcclxuICAgICAgICAgICAgaWYgKG1lc2guc2NhbGUueCA+IDApIG1lc2guc2NhbGUuc3ViU2NhbGFyKGRlbHRhICogMC44KTtcclxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc2gubWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAobWVzaC5tYXRlcmlhbCBhcyBUSFJFRS5NYXRlcmlhbCkub3BhY2l0eSA9IE1hdGgubWF4KDAsIChtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1hdGVyaWFsKS5vcGFjaXR5IC0gZGVsdGEgKiAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8Z3JvdXAgcG9zaXRpb249e3Bvc2l0aW9ufSByZWY9e2dyb3VwfT5cclxuICAgICAgICAgICAge3BhcnRpY2xlcy5tYXAoKHAsIGkpID0+IChcclxuICAgICAgICAgICAgICAgIDxtZXNoIGtleT17aX0gcm90YXRpb249e1twLnJvdGF0aW9uWzBdLCBwLnJvdGF0aW9uWzFdLCAwXX0gc2NhbGU9e1twLnNjYWxlLCBwLnNjYWxlLCBwLnNjYWxlXX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9jdGFoZWRyb25HZW9tZXRyeSBhcmdzPXtbMSwgMF19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPG1lc2hCYXNpY01hdGVyaWFsIGNvbG9yPVwiI0Y1OUUwQlwiIHRyYW5zcGFyZW50IG9wYWNpdHk9ezF9IC8+XHJcbiAgICAgICAgICAgICAgICA8L21lc2g+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8cG9pbnRMaWdodCBkaXN0YW5jZT17NX0gaW50ZW5zaXR5PXs1fSBjb2xvcj1cIiNGNTlFMEJcIiBkZWNheT17Mn0gLz5cclxuICAgICAgICA8L2dyb3VwPlxyXG4gICAgKTtcclxufTtcclxuXHJcbi8vIC0tLSBEYXJrIE1pbmQgQ2x1c3RlciBDb21wb25lbnQgKE5lZ2F0aXZlIFN0YXRlKSAtLS1cclxuY29uc3QgRGFya0NsdXN0ZXIgPSAoeyBhbmltYXRpb25PZmZzZXQsIGlkIH06IHsgYW5pbWF0aW9uT2Zmc2V0OiBudW1iZXIsIGlkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgY29uc3QgZ3JvdXAgPSB1c2VSZWY8VEhSRUUuR3JvdXA+KG51bGwpO1xyXG5cclxuICAgIHVzZUZyYW1lKChzdGF0ZSwgZGVsdGEpID0+IHtcclxuICAgICAgICBpZiAoIWdyb3VwLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgICAvLyBKaXR0ZXIvRmxvYXQgZWZmZWN0XHJcbiAgICAgICAgY29uc3QgdCA9IHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lO1xyXG4gICAgICAgIGdyb3VwLmN1cnJlbnQucm90YXRpb24ueSA9IE1hdGguc2luKHQgKiAwLjUgKyBhbmltYXRpb25PZmZzZXQpICogMC4yO1xyXG4gICAgICAgIGdyb3VwLmN1cnJlbnQucm90YXRpb24ueiA9IE1hdGguY29zKHQgKiAwLjMgKyBhbmltYXRpb25PZmZzZXQpICogMC4xO1xyXG5cclxuICAgICAgICAvLyBJbm5lciBjdWJlcyB3b2JibGVcclxuICAgICAgICBncm91cC5jdXJyZW50LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJvdGF0aW9uLnggKz0gZGVsdGEgKiAoMC4yICsgaSAqIDAuMSk7XHJcbiAgICAgICAgICAgIGNoaWxkLnJvdGF0aW9uLnkgLT0gZGVsdGEgKiAoMC4xICsgaSAqIDAuMDUpO1xyXG4gICAgICAgICAgICBjaGlsZC5wb3NpdGlvbi55ICs9IE1hdGguc2luKHQgKiAyICsgaSkgKiAwLjAwMjtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGNsdXN0ZXIgb2Ygb3ZlcmxhcHBpbmcgY3ViZXNcclxuICAgIGNvbnN0IGN1YmVzID0gW1xyXG4gICAgICAgIHsgc2l6ZTogWzIuMiwgMi4yLCAyLjJdLCBwb3M6IFswLCAwLCAwXSB9LFxyXG4gICAgICAgIHsgc2l6ZTogWzIuMCwgMi4wLCAyLjBdLCBwb3M6IFswLjIsIDAuMiwgMC4yXSB9LFxyXG4gICAgICAgIHsgc2l6ZTogWzEuOCwgMS44LCAxLjhdLCBwb3M6IFstMC4yLCAtMC4yLCAtMC4xXSB9LFxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxncm91cCByZWY9e2dyb3VwfT5cclxuICAgICAgICAgICAge2N1YmVzLm1hcCgoYywgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPG1lc2gga2V5PXtpfSBwb3NpdGlvbj17Yy5wb3MgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXJdfSB1c2VyRGF0YT17eyBpc1RhcmdldDogdHJ1ZSwgaWQgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJveEdlb21ldHJ5IGFyZ3M9e2Muc2l6ZSBhcyBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIEtlcHQgQmxhY2sgQm94IHdpdGggV2hpdGUgRWRnZXMgYXMgcmVxdWVzdGVkICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBjb2xvcj1cIiMwNTA1MDVcIiByb3VnaG5lc3M9ezAuMX0gbWV0YWxuZXNzPXswLjh9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEVkZ2VzIGNvbG9yPVwiI0ZGRkZGRlwiIHRocmVzaG9sZD17MTV9IHNjYWxlPXsxLjB9IC8+XHJcbiAgICAgICAgICAgICAgICA8L21lc2g+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvZ3JvdXA+XHJcbiAgICApO1xyXG59O1xyXG5cclxuLy8gLS0tIFRhcmdldCBCb3ggQ29tcG9uZW50IC0tLVxyXG5jb25zdCBUYXJnZXRCb3ggPSAoeyBkYXRhIH06IHsgZGF0YTogVGFyZ2V0IH0pID0+IHtcclxuICAgIGNvbnN0IGdyb3VwUmVmID0gdXNlUmVmPFRIUkVFLkdyb3VwPihudWxsKTtcclxuXHJcbiAgICB1c2VGcmFtZSgoc3RhdGUpID0+IHtcclxuICAgICAgICBpZiAoZ3JvdXBSZWYuY3VycmVudCAmJiAhZGF0YS5pc0hpdCkge1xyXG4gICAgICAgICAgICAvLyBHZW5lcmFsIGZsb2F0aW5nIGZvciB0aGUgd2hvbGUgZ3JvdXBcclxuICAgICAgICAgICAgZ3JvdXBSZWYuY3VycmVudC5wb3NpdGlvbi55ID0gZGF0YS5wb3NpdGlvblsxXSArIE1hdGguc2luKHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lICsgZGF0YS5vZmZzZXQpICogMC4yO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGdyb3VwIHJlZj17Z3JvdXBSZWZ9IHBvc2l0aW9uPXtkYXRhLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgey8qIE1haW4gQm94IC0gSGlkZGVuIHdoZW4gaGl0ICovfVxyXG4gICAgICAgICAgICB7IWRhdGEuaXNIaXQgJiYgPERhcmtDbHVzdGVyIGFuaW1hdGlvbk9mZnNldD17ZGF0YS5vZmZzZXR9IGlkPXtkYXRhLmlkfSAvPn1cclxuXHJcbiAgICAgICAgICAgIHsvKiBFeHBsb3Npb24gRWZmZWN0IC0gU2hvd24gd2hlbiBoaXQgKi99XHJcbiAgICAgICAgICAgIHtkYXRhLmlzSGl0ICYmIDxFeHBsb3Npb25QYXJ0aWNsZXMgcG9zaXRpb249e1swLCAwLCAwXX0gLz59XHJcblxyXG4gICAgICAgICAgICB7LyogRmxvYXRpbmcgVGV4dCAtIEFsd2F5cyB2aXNpYmxlLCBkZXRhY2hlZCBmcm9tIG1lc2ggdG8gc3RheSBsZWdpYmxlICovfVxyXG4gICAgICAgICAgICA8SHRtbFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb249e1swLCBkYXRhLmlzSGl0ID8gMiA6IDIuNSwgMF19XHJcbiAgICAgICAgICAgICAgICBjZW50ZXJcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybT17ZmFsc2V9ICAgLy8gTmV2ZXIgcm90YXRlIHdpdGggdGhlIGJveFxyXG4gICAgICAgICAgICAgICAgc3ByaXRlPXt0cnVlfSAgICAgICAvLyBBbHdheXMgZmFjZSB0aGUgY2FtZXJhXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZUZhY3Rvcj17MTJ9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjNzIGVhc2Utb3V0J1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LTN4bCBmb250LWV4dHJhYm9sZCB3aGl0ZXNwYWNlLW5vd3JhcCBweC02IHB5LTMgcm91bmRlZC0yeGwgYm9yZGVyLTRcclxuICAgICAgICAgICAgICAgICAgICAke2RhdGEuaXNIaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dC1ibHVlLTYwMCBib3JkZXItYmx1ZS00MDAgYmctd2hpdGUgc2hhZG93LVswXzBfMzBweF9yZ2JhKDU5LDEzMCwyNDYsMC41KV0gc2NhbGUtMTEwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktOTAwIGJvcmRlci1ncmF5LTkwMCBiZy13aGl0ZS84MCBzaGFkb3cteGwnfVxyXG4gICAgICAgICAgICAgICAgYH0+XHJcbiAgICAgICAgICAgICAgICAgICAge2RhdGEud29yZH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0h0bWw+XHJcbiAgICAgICAgPC9ncm91cD5cclxuICAgICk7XHJcbn07XHJcblxyXG4vLyAtLS0gU2NlbmUgTWFuYWdlciAtLS1cclxuY29uc3QgU2NlbmVNYW5hZ2VyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBjYW1lcmEsIHNjZW5lLCByYXljYXN0ZXIgfSA9IHVzZVRocmVlKCk7XHJcbiAgICAvLyBPcHRpbWl6ZSBzZWxlY3RvciB0byBhdm9pZCByZS1yZW5kZXJzIG9uIHNjb3JlIGNoYW5nZVxyXG4gICAgY29uc3QgYWRkU2NvcmUgPSB1c2VHYW1lU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5hZGRTY29yZSk7XHJcbiAgICBjb25zdCBzdGF0dXMgPSB1c2VHYW1lU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zdGF0dXMpO1xyXG4gICAgY29uc3QgdGltZUxlZnQgPSB1c2VHYW1lU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS50aW1lTGVmdCk7XHJcbiAgICBjb25zdCBuZWdhdGl2ZVdvcmRzID0gdXNlR2FtZVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUubmVnYXRpdmVXb3Jkcyk7XHJcbiAgICBjb25zdCBwb3NpdGl2ZVdvcmRzID0gdXNlR2FtZVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUucG9zaXRpdmVXb3Jkcyk7XHJcblxyXG4gICAgY29uc3QgW3RhcmdldHMsIHNldFRhcmdldHNdID0gdXNlU3RhdGU8VGFyZ2V0W10+KFtdKTtcclxuXHJcbiAgICAvLyBFbnZpcm9ubWVudCBSZWZzXHJcbiAgICBjb25zdCBhbWJpZW50UmVmID0gdXNlUmVmPFRIUkVFLkFtYmllbnRMaWdodD4obnVsbCk7XHJcbiAgICBjb25zdCBtYWluTGlnaHRSZWYgPSB1c2VSZWY8VEhSRUUuUG9pbnRMaWdodD4obnVsbCk7XHJcbiAgICBjb25zdCBmbGFzaEludGVuc2l0eSA9IHVzZVJlZigwKTtcclxuXHJcbiAgICAvLyBGcmFtZSBMb29wIGZvciBFbnZpcm9ubWVudCBBbmltYXRpb25cclxuICAgIHVzZUZyYW1lKChfLCBkZWx0YSkgPT4ge1xyXG4gICAgICAgIC8vIERlY2F5IGZsYXNoIGludGVuc2l0eVxyXG4gICAgICAgIGZsYXNoSW50ZW5zaXR5LmN1cnJlbnQgPSBUSFJFRS5NYXRoVXRpbHMubGVycChmbGFzaEludGVuc2l0eS5jdXJyZW50LCAwLCBkZWx0YSAqIDQpO1xyXG5cclxuICAgICAgICAvLyBBcHBseSBmbGFzaCB0byBsaWdodGluZ1xyXG4gICAgICAgIGlmIChhbWJpZW50UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgYW1iaWVudFJlZi5jdXJyZW50LmludGVuc2l0eSA9IDEuMCArIGZsYXNoSW50ZW5zaXR5LmN1cnJlbnQgKiAwLjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtYWluTGlnaHRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICBtYWluTGlnaHRSZWYuY3VycmVudC5pbnRlbnNpdHkgPSAxLjAgKyBmbGFzaEludGVuc2l0eS5jdXJyZW50ICogMi4wO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNwYXduIEhlbHBlclxyXG4gICAgY29uc3Qgc3Bhd25UYXJnZXQgPSAoaWRPdmVycmlkZT86IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gaWRPdmVycmlkZSB8fCBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XHJcbiAgICAgICAgY29uc3QgeCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDMwOyAvLyAtMTUgdG8gMTVcclxuICAgICAgICBjb25zdCB5ID0gMiArIE1hdGgucmFuZG9tKCkgKiA4OyAgICAgIC8vIDIgdG8gMTAgaGVpZ2h0XHJcbiAgICAgICAgY29uc3QgeiA9IC0xMCAtIE1hdGgucmFuZG9tKCkgKiAyMDsgICAvLyAtMTAgdG8gLTMwIGRlcHRoXHJcblxyXG4gICAgICAgIC8vIFVzZSBkeW5hbWljIHdvcmRzLCBmYWxsYmFjayBpZiBlbXB0eSB0byBwcmV2ZW50IGVycm9yc1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVdvcmRzID0gbmVnYXRpdmVXb3Jkcy5sZW5ndGggPiAwID8gbmVnYXRpdmVXb3JkcyA6IFtcIk5vIFdvcmRzXCJdO1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbU5lZ2F0aXZlID0gc291cmNlV29yZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc291cmNlV29yZHMubGVuZ3RoKV07XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogW3gsIHksIHpdIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcclxuICAgICAgICAgICAgd29yZDogcmFuZG9tTmVnYXRpdmUsXHJcbiAgICAgICAgICAgIGlzSGl0OiBmYWxzZSxcclxuICAgICAgICAgICAgb2Zmc2V0OiBNYXRoLnJhbmRvbSgpICogMTAwIC8vIFJhbmRvbSBvZmZzZXQgZm9yIGFuaW1hdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERldGVybWluZSB0YXJnZXQgY291bnQgYmFzZWQgb24gdGltZVxyXG4gICAgY29uc3QgZ2V0VGFyZ2V0Q291bnRNZXRyaWMgPSAodGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gXCJTdGFydCB+IDVzIGJlZm9yZSBlbmRcIiAtPiAxNS4gXCI3cyBiZWZvcmUgZW5kIH4gZW5kXCIgLT4gNi4gXHJcbiAgICAgICAgLy8gV2UgcHJpb3JpdGl6ZSB0aGUgc3BlY2lmaWMgXCI3c1wiIHN0YXJ0IGZvciB0aGUgdGFwZXJpbmcgcGhhc2UuXHJcbiAgICAgICAgaWYgKHRpbWUgPiA3KSByZXR1cm4geyBtYXg6IDE1LCBzaG91bGRTcGF3bjogdHJ1ZSB9O1xyXG4gICAgICAgIGlmICh0aW1lID4gMCkgcmV0dXJuIHsgbWF4OiA2LCBzaG91bGRTcGF3bjogdHJ1ZSB9OyAvLyBMYXN0IDcgc2Vjb25kczogVGFwZXIgb2ZmXHJcbiAgICAgICAgcmV0dXJuIHsgbWF4OiAwLCBzaG91bGRTcGF3bjogZmFsc2UgfTsgLy8gTGFzdCBtb21lbnRzOiBDbGVhciB0aGUgYm9hcmRcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pdGlhbCAmIE1haW50ZW5hbmNlIFNwYXduXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdwbGF5aW5nJykge1xyXG4gICAgICAgICAgICBjb25zdCB7IG1heCwgc2hvdWxkU3Bhd24gfSA9IGdldFRhcmdldENvdW50TWV0cmljKHRpbWVMZWZ0KTtcclxuXHJcbiAgICAgICAgICAgIHNldFRhcmdldHMocHJldiA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGZld2VyIHRoYW4gbWF4IGFuZCBzaG91bGQgc3Bhd24sIGFkZCBtb3JlXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3Bhd24gJiYgcHJldi5sZW5ndGggPCBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkZWQgPSBtYXggLSBwcmV2Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXJnZXRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbmVlZGVkIH0pLm1hcCgoKSA9PiBzcGF3blRhcmdldCgpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLm5ld1RhcmdldHNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnaWRsZScpIHtcclxuICAgICAgICAgICAgLy8gUmVzZXQgdmlzdWFsIHRhcmdldHMgd2hlbiBpZGxlXHJcbiAgICAgICAgICAgIHNldFRhcmdldHMoW10pO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtzdGF0dXMsIHRpbWVMZWZ0LCBuZWdhdGl2ZVdvcmRzXSk7IC8vIEFkZGVkIG5lZ2F0aXZlV29yZHMgZGVwZW5kZW5jeVxyXG5cclxuICAgIC8vIEhhbmRsZSBDbGljayAoU2hvb3RpbmcpXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gJ3BsYXlpbmcnKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShuZXcgVEhSRUUuVmVjdG9yMigwLCAwKSwgY2FtZXJhKTtcclxuICAgICAgICAgICAgLy8gSW50ZXJzZWN0IHdpdGggZXZlcnl0aGluZ1xyXG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoc2NlbmUuY2hpbGRyZW4sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gRmlsdGVyIG9ubHkgdGFyZ2V0cyB0aGF0IGFyZSBub3QgYWxyZWFkeSBoaXRcclxuICAgICAgICAgICAgY29uc3QgaGl0T2JqID0gaW50ZXJzZWN0cy5maW5kKGkgPT5cclxuICAgICAgICAgICAgICAgIGkub2JqZWN0LnVzZXJEYXRhLmlzVGFyZ2V0ICYmXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzLmZpbmQodCA9PiB0LmlkID09PSBpLm9iamVjdC51c2VyRGF0YS5pZCAmJiAhdC5pc0hpdClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChoaXRPYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhpdElkID0gaGl0T2JqLm9iamVjdC51c2VyRGF0YS5pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQbGF5IFNvdW5kXHJcbiAgICAgICAgICAgICAgICBzb3VuZE1hbmFnZXIucGxheUV4cGxvc2lvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSBkeW5hbWljIHBvc2l0aXZlIHdvcmRzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VXb3JkcyA9IHBvc2l0aXZlV29yZHMubGVuZ3RoID4gMCA/IHBvc2l0aXZlV29yZHMgOiBbXCJHb29kIVwiXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aXZlTXNnID0gc291cmNlV29yZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc291cmNlV29yZHMubGVuZ3RoKV07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBGbGFzaFxyXG4gICAgICAgICAgICAgICAgZmxhc2hJbnRlbnNpdHkuY3VycmVudCA9IDEuMDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgSW50ZXJhbCBTdGF0ZSB0byBcIkhpdFwiXHJcbiAgICAgICAgICAgICAgICBzZXRUYXJnZXRzKHByZXYgPT4gcHJldi5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQuaWQgPT09IGhpdElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnQsIGlzSGl0OiB0cnVlLCB3b3JkOiBwb3NpdGl2ZU1zZyB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhZGRTY29yZSgxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbmQgbWF5YmUgUmVzcGF3blxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGFyZ2V0cyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IGhpdElkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApOyAvLyAxLjBzIGFuaW1hdGlvbiB0aW1lIChTbGlnaHRseSBsb25nZXIgZm9yIHJlYWRpbmcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG4gICAgfSwgW2NhbWVyYSwgcmF5Y2FzdGVyLCBzY2VuZSwgc3RhdHVzLCB0YXJnZXRzLCBhZGRTY29yZSwgdGltZUxlZnQsIHBvc2l0aXZlV29yZHNdKTsgLy8gQWRkZWQgcG9zaXRpdmVXb3Jkc1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgey8qIER5bmFtaWMgRW52aXJvbm1lbnQgKi99XHJcbiAgICAgICAgICAgIHtiYWNrZ3JvdW5kTW9kZSA9PT0gJ3doaXRlJyAmJiA8V2hpdGVSb29tRW52IC8+fVxyXG4gICAgICAgICAgICB7YmFja2dyb3VuZE1vZGUgPT09ICdzcGFjZScgJiYgPFNwYWNlRW52IC8+fVxyXG4gICAgICAgICAgICB7YmFja2dyb3VuZE1vZGUgPT09ICdzY2hvb2wnICYmIDxTY2hvb2xFbnYgLz59XHJcblxyXG4gICAgICAgICAgICB7dGFyZ2V0cy5tYXAodCA9PiAoXHJcbiAgICAgICAgICAgICAgICA8VGFyZ2V0Qm94IGtleT17dC5pZH0gZGF0YT17dH0gLz5cclxuICAgICAgICAgICAgKSl9XHJcblxyXG4gICAgICAgICAgICA8UGxheWVyQ29udHJvbGxlciAvPlxyXG4gICAgICAgICAgICB7c3RhdHVzID09PSAncGxheWluZycgJiYgPFBvaW50ZXJMb2NrQ29udHJvbHMgLz59XHJcbiAgICAgICAgPC8+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZVNjZW5lKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGxcIj5cclxuICAgICAgICAgICAgPENhbnZhcyBzaGFkb3dzIGNhbWVyYT17eyBmb3Y6IDYwIH19PlxyXG4gICAgICAgICAgICAgICAgPFNjZW5lTWFuYWdlciAvPlxyXG4gICAgICAgICAgICA8L0NhbnZhcz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJDYW52YXMiLCJ1c2VGcmFtZSIsInVzZVRocmVlIiwiUG9pbnRlckxvY2tDb250cm9scyIsIkh0bWwiLCJFZGdlcyIsInVzZUdhbWVTdG9yZSIsInNvdW5kTWFuYWdlciIsIlRIUkVFIiwiTkVHQVRJVkVfV09SRFMiLCJQT1NJVElWRV9XT1JEUyIsIlBsYXllckNvbnRyb2xsZXIiLCJjYW1lcmEiLCJtb3ZlIiwic2V0TW92ZSIsImYiLCJiIiwibCIsInIiLCJkb3duIiwiZSIsImNvZGUiLCJtIiwidXAiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl8iLCJkZWx0YSIsInNwZWVkIiwiZGlyZWN0aW9uIiwiVmVjdG9yMyIsImZyb250IiwiTnVtYmVyIiwic2lkZSIsInN1YlZlY3RvcnMiLCJub3JtYWxpemUiLCJtdWx0aXBseVNjYWxhciIsImFwcGx5RXVsZXIiLCJyb3RhdGlvbiIsInBvc2l0aW9uIiwiYWRkIiwieSIsIk1hdGgiLCJtYXgiLCJFeHBsb3Npb25QYXJ0aWNsZXMiLCJncm91cCIsInBhcnRpY2xlcyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIm1hcCIsIm9mZnNldCIsInJhbmRvbSIsIlBJIiwic2NhbGUiLCJjdXJyZW50IiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwiY2hpbGQiLCJpIiwicCIsIm1lc2giLCJ4IiwieiIsInN1YlNjYWxhciIsImlzQXJyYXkiLCJtYXRlcmlhbCIsIm9wYWNpdHkiLCJyZWYiLCJvY3RhaGVkcm9uR2VvbWV0cnkiLCJhcmdzIiwibWVzaEJhc2ljTWF0ZXJpYWwiLCJjb2xvciIsInRyYW5zcGFyZW50IiwicG9pbnRMaWdodCIsImRpc3RhbmNlIiwiaW50ZW5zaXR5IiwiZGVjYXkiLCJEYXJrQ2x1c3RlciIsImFuaW1hdGlvbk9mZnNldCIsImlkIiwic3RhdGUiLCJ0IiwiY2xvY2siLCJlbGFwc2VkVGltZSIsInNpbiIsImNvcyIsImN1YmVzIiwic2l6ZSIsInBvcyIsImMiLCJ1c2VyRGF0YSIsImlzVGFyZ2V0IiwiYm94R2VvbWV0cnkiLCJtZXNoU3RhbmRhcmRNYXRlcmlhbCIsInJvdWdobmVzcyIsIm1ldGFsbmVzcyIsInRocmVzaG9sZCIsIlRhcmdldEJveCIsImRhdGEiLCJncm91cFJlZiIsImlzSGl0IiwiY2VudGVyIiwidHJhbnNmb3JtIiwic3ByaXRlIiwiZGlzdGFuY2VGYWN0b3IiLCJzdHlsZSIsInBvaW50ZXJFdmVudHMiLCJ1c2VyU2VsZWN0IiwidHJhbnNpdGlvbiIsImRpdiIsImNsYXNzTmFtZSIsIndvcmQiLCJTY2VuZU1hbmFnZXIiLCJzY2VuZSIsInJheWNhc3RlciIsImFkZFNjb3JlIiwic3RhdHVzIiwidGltZUxlZnQiLCJuZWdhdGl2ZVdvcmRzIiwicG9zaXRpdmVXb3JkcyIsInRhcmdldHMiLCJzZXRUYXJnZXRzIiwiYW1iaWVudFJlZiIsIm1haW5MaWdodFJlZiIsImZsYXNoSW50ZW5zaXR5IiwiTWF0aFV0aWxzIiwibGVycCIsInNwYXduVGFyZ2V0IiwiaWRPdmVycmlkZSIsInRvU3RyaW5nIiwic3Vic3RyIiwic291cmNlV29yZHMiLCJyYW5kb21OZWdhdGl2ZSIsImZsb29yIiwiZ2V0VGFyZ2V0Q291bnRNZXRyaWMiLCJ0aW1lIiwic2hvdWxkU3Bhd24iLCJwcmV2IiwibmVlZGVkIiwibmV3VGFyZ2V0cyIsImhhbmRsZU1vdXNlRG93biIsInNldEZyb21DYW1lcmEiLCJWZWN0b3IyIiwiaW50ZXJzZWN0cyIsImludGVyc2VjdE9iamVjdHMiLCJoaXRPYmoiLCJmaW5kIiwib2JqZWN0IiwiaGl0SWQiLCJwbGF5RXhwbG9zaW9uIiwicG9zaXRpdmVNc2ciLCJzZXRUaW1lb3V0IiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJiYWNrZ3JvdW5kTW9kZSIsIldoaXRlUm9vbUVudiIsIlNwYWNlRW52IiwiU2Nob29sRW52IiwiR2FtZVNjZW5lIiwic2hhZG93cyIsImZvdiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/GameScene.tsx\n"));

/***/ })

});